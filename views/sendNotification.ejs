<!doctype html>
<html lang="ar">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Ø¥Ø±Ø³Ø§Ù„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©</title>
        <style>
            body {
                font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
                background: linear-gradient(to right, #1f1f3f, #121212);
                color: #fff;
                padding: 30px;
                direction: rtl;
            }
            .container {
                max-width: 700px;
                margin: auto;
                background: #222244;
                padding: 30px;
                border-radius: 15px;
                box-shadow: 0 0 30px rgba(0, 0, 0, 0.7);
            }
            h2 {
                text-align: center;
                color: #00ffcc;
                margin-bottom: 25px;
            }
            label {
                display: block;
                margin: 15px 0 5px;
                font-weight: bold;
            }
            input[type="text"],
            select,
            textarea {
                width: 100%;
                padding: 12px;
                border-radius: 8px;
                border: none;
                outline: none;
                font-size: 16px;
                background: #2e2e5e;
                color: #fff;
            }
            textarea {
                resize: vertical;
            }
            button {
                background-color: #00ffcc;
                color: #121212;
                font-weight: bold;
                padding: 15px;
                border: none;
                border-radius: 10px;
                margin-top: 20px;
                cursor: pointer;
                width: 100%;
                font-size: 16px;
                transition: background 0.3s;
            }
            button:hover {
                background-color: #00d4aa;
            }
            #output {
                margin-top: 20px;
                background: #1e1e3f;
                padding: 15px;
                border-radius: 10px;
                word-break: break-all;
            }
            .copy-btn {
                margin-top: 10px;
                background: #ffcc00;
                color: #121212;
                font-weight: bold;
            }
            .copy-btn:hover {
                background: #e6b800;
            }
            .preview-box {
                margin-top: 20px;
                padding: 20px;
                background: linear-gradient(135deg, #333366, #1f1f3f);
                border-radius: 12px;
                box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
                text-align: center;
            }
            .preview-box h3 {
                margin: 10px 0;
                color: #00ffcc;
            }
            .preview-box p {
                font-size: 16px;
                color: #fff;
                margin-top: 10px;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h2>Ø¥Ø±Ø³Ø§Ù„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©</h2>

            <label for="idsesion">Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ø¬Ù„Ø³Ø© (idsesion):</label>
            <input type="text" id="idsesion" placeholder="Ø£Ø¯Ø®Ù„ Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ø¬Ù„Ø³Ø©" />

            <label for="teamA">Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„:</label>
            <input type="text" id="teamA" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„" />

            <label for="teamB">Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ:</label>
            <input
                type="text"
                id="teamB"
                placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ"
            />

            <label for="matchStatus">Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©:</label>
            <select id="matchStatus">
                <option value="Live">Ù…Ø¨Ø§Ø´Ø±</option>
                <option value="Finished">Ø§Ù†ØªÙ‡Øª</option>
                <option value="Upcoming">Ø³ØªØ¨Ø¯Ø£ Ø¨Ø¹Ø¯ Ù‚Ù„ÙŠÙ„</option>
            </select>

            <label for="message">Ø±Ø³Ø§Ù„Ø© Ù…Ø®ØµØµØ©:</label>
            <textarea
                id="message"
                rows="3"
                placeholder="Ø£Ø¯Ø®Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§"
            ></textarea>

            <button id="generateBtn">ØªÙˆÙ„ÙŠØ¯ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±</button>
            <button id="clearStorageBtn">Ù…Ø³Ø­ Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ù…Ø®Ø²Ù†Ø©</button>

            <div class="preview-box" id="previewBox">
                <h3>Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©</h3>
                <p id="previewMessage">Ø³ØªØ¸Ù‡Ø± Ù…Ø¹Ø§ÙŠÙ†Ø© Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§</p>
            </div>

            <div id="output"></div>
            <button class="copy-btn" id="copyBtn">Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·</button>
        </div>

        <script>
            const generateBtn = document.getElementById("generateBtn");
            const clearStorageBtn = document.getElementById("clearStorageBtn");
            const copyBtn = document.getElementById("copyBtn");
            const outputDiv = document.getElementById("output");
            const previewMessage = document.getElementById("previewMessage");
            const idsesionInput = document.getElementById("idsesion");

            // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ idsesion Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ø®Ø²Ù†Ø©
            window.addEventListener("DOMContentLoaded", () => {
                const savedSession = localStorage.getItem("idsesion");
                if (savedSession) idsesionInput.value = savedSession;
            });

            generateBtn.addEventListener("click", () => {
                const idsesion = idsesionInput.value.trim();
                const teamA = document.getElementById("teamA").value.trim();
                const teamB = document.getElementById("teamB").value.trim();
                const status = document.getElementById("matchStatus").value;
                const message = document.getElementById("message").value.trim();

                if (!idsesion || !teamA || !teamB) {
                    outputDiv.textContent = "ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„.";
                    previewMessage.textContent = "Ø³ØªØ¸Ù‡Ø± Ù…Ø¹Ø§ÙŠÙ†Ø© Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§";
                    return;
                }

                // Ø­ÙØ¸ Ø§Ù„Ø¬Ù„Ø³Ø© ÙÙŠ localStorage
                localStorage.setItem("idsesion", idsesion);

                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                let statusText = "";
                if (status === "Live") statusText = "Ù…Ø¨Ø§Ø´Ø± ğŸ”´";
                else if (status === "Finished") statusText = "Ø§Ù†ØªÙ‡Øª âœ…";
                else if (status === "Upcoming")
                    statusText = "Ø³ØªØ¨Ø¯Ø£ Ø¨Ø¹Ø¯ Ù‚Ù„ÙŠÙ„ â³";

                const titulo = `âš½ ${teamA} ğŸ†š ${teamB} âš½`;
                const subtitulo = `${statusText} - ${message}`;

                const link = `https://www.appcreator24.com/intra/app_envios_confirm_guardando.php?idioma=en&idsesion=${encodeURIComponent(
                    idsesion
                )}&idapp=3461147&titulo=${encodeURIComponent(
                    titulo
                )}&subtitulo=${encodeURIComponent(
                    subtitulo
                )}&idabrir=0&idseccabrir=33807868&web=&sustituir=0&cod_img=&enviar_a=0&codigo=&mensaje_chat=`;

                outputDiv.textContent = link;
                previewMessage.textContent = `${titulo}\n${subtitulo}`;
            });

            copyBtn.addEventListener("click", () => {
                const text = outputDiv.textContent;
                if (!text) return;
                navigator.clipboard.writeText(text).then(() => {
                    alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·!");
                });
            });

            clearStorageBtn.addEventListener("click", () => {
                localStorage.removeItem("idsesion");
                idsesionInput.value = "";
                alert("ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ù…Ø®Ø²Ù†Ø©!");
            });
        </script>
    </body>
</html>
